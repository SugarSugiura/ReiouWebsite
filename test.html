<!doctype html>
<html><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer="" src="https://cdn.jsdelivr.net/npm/shogi-player@1.1.0"></script>
  <style>
    html {
      overflow: hidden;
    }
  </style>
  <!-- <script defer src="../../dist/wc/production/shogi-player-wc.js"></script> -->
  <script type="module">
    import { LitElement, css, html } from "https://cdn.jsdelivr.net/gh/lit/dist@2/core/lit-core.min.js"
    export class ShogiBoard extends LitElement {
      static styles = css`
        :host {
          display: block;
          /*border: 1px solid hsl(0 0% 0% / 0.1);*/
          padding: 1rem;
          height: 100%
        }
        .container {
          display: flex;
          justify-content: center;
          gap: 1rem;
        }
        shogi-player-wc {
          flex-basis: 97vh;
        }
        shogi-player-wc::part(root) {
          --sp_board_color: LightSkyBlue;
        }
        .comment {
          border: 1px solid hsl(0 0% 0% / 0.10);
          background-color: hsl(0 0% 0% / 0.02);
          border-radius: 4px;
          flex-basis: 40vh;
          position: relative;
        }
        .comment-body {
          position: absolute;
          top: 1rem;
          left: 1rem;
          bottom: 1rem;
          right: 1rem;

          overflow-y: scroll;

          display: flex;
          flex-direction: column;
          gap: 1rem;
        }
        .comment-body p {
          margin: 0;
        }
      `

      static properties = {
        source: { type: String },
        comment_lines: { type: Array },
        turn: { type: String },
        pass_css: { type: String }
      }

      constructor() {
        super()
        this.source ??= "position sfen 4k4/9/9/9/9/9/9/9/9 b 2r2b4g4s4n4l18p 1"
        this.comment_lines = null
        this.turn = null
        this.pass_css = null
      }

      render() {
        return html`
          <div class="container">
            <shogi-player-wc
              sp_mode="view"
              sp_body="${this.source}"
              sp_comment="false"
              sp_mobile_vertical="false"
              sp_turn="${this.turn}"
              @ev_comment_change="${e => this.comment_lines = e.detail[0]}"
              sp_controller="true"
              sp_pass_css="${this.pass_css}"
            ></shogi-player-wc>
            <div class="comment">
              <div class="comment-body">
                ${(this.comment_lines || []).map(e => html`<p>${e}</p>`)}
              </div>
            </div>
          </div>
        `
      }
    }
    customElements.define("shogi-board", ShogiBoard)
  </script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet" id="bdf2da9503326784806e006ec9c11bcf"></head>
<body>
  <!-- <input type="button" value="採点" onclick="EmphasizeSquare(5, 5)" style="position: absolute; top: 100px"> -->
<shogi-board id="shogi" turn="0" source="
*第１章 基本図まで
*角換わり腰掛銀は王道の戦法のひとつ。
*細かい攻めをつなげていき、少しずつ敵陣を崩していく、という方針で指します。
   1 ７六歩(77)        ( 0:00/00:00:00)
   2 ８四歩(83)        ( 0:00/00:00:00)
   3 ２六歩(27)        ( 0:00/00:00:00)
   4 ８五歩(84)        ( 0:00/00:00:00)
   5 ７七角(88)        ( 0:00/00:00:00)
*飛車先の歩は交換させないように角で受けます。
   6 ３二金(41)        ( 0:00/00:00:00)
   7 ２五歩(26)        ( 0:00/00:00:00)
   8 ３四歩(33)        ( 0:00/00:00:00)
   9 ６八銀(79)        ( 0:00/00:00:00)
  10 ７七角成(22)       ( 0:00/00:00:00)
*角交換が行われて角換わりに！
*後手が角交換をしなければ、先手は自分だけ飛車先の歩を交換できるという仕組みです。
  11 同　銀(68)        ( 0:00/00:00:00)
  12 ２二銀(31)        ( 0:00/00:00:00)
  13 ４八銀(39)        ( 0:00/00:00:00)
*▲４八銀でなく、▲２四歩を飛車先の歩を交換したくなりますが、以下、△２四同歩▲同飛に△３五角と打たれます。
*そうなると飛車取りと△５七角成と馬をつくられる手を同時に防げず、先手失敗。
  14 ３三銀(22)        ( 0:00/00:00:00)
  15 ４六歩(47)        ( 0:00/00:00:00)
  16 ６二銀(71)        ( 0:00/00:00:00)
  17 ３六歩(37)        ( 0:00/00:00:00)
  18 ６四歩(63)        ( 0:00/00:00:00)
  19 ３七桂(29)        ( 0:00/00:00:00)
  20 ４二玉(51)        ( 0:00/00:00:00)
*▲３七桂に△４二玉はセットだと思っていただいてよいです。(右玉にしたいなら話は別ですが…)
*玉で５三の地点を補強する意味で、この手を怠ると場合によっては▲４五桂といきなり仕掛ける手が成立します。
  21 ４七銀(48)        ( 0:00/00:00:00)
  22 ６三銀(62)        ( 0:00/00:00:00)
  23 ７八金(69)        ( 0:00/00:00:00)
  24 ７四歩(73)        ( 0:00/00:00:00)
  25 ２九飛(28)        ( 0:00/00:00:00)
  26 ７三桂(81)        ( 0:00/00:00:00)
  27 ６八玉(59)        ( 0:00/00:00:00)
*先手も△７三桂には▲６八玉。
  28 ８一飛(82)        ( 0:00/00:00:00)
  29 ４八金(49)        ( 0:00/00:00:00)
*従来は▲５八金と玉に金を近づける手が主流でしたが、現代調はバランス重視の▲４八金。
*本講座ではこの４八金・２九飛型の解説をしていきます。
  30 ６二金(61)        ( 0:00/00:00:00)
  31 ９六歩(97)        ( 0:00/00:00:00)
  32 ９四歩(93)        ( 0:00/00:00:00)
*角換わり腰掛銀では、端歩は受けるのが無難です。
*ただし、端を受けずに攻撃陣の整備や玉の囲いを優先させる指し方もあります。
  33 １六歩(17)        ( 0:00/00:00:00)
  34 １四歩(13)        ( 0:00/00:00:00)
  35 ６六歩(67)        ( 0:00/00:00:00)
  36 ５四銀(63)        ( 0:00/00:00:00)
  37 ５六銀(47)        ( 0:00/00:00:00)
*角換わり腰掛銀の基本図。
*駒組の順番はそこまで気にしなくてもよいかと思いますが、相手の出方によっては速攻に注意が必要です。
*
*ここでの後手の指し方によって展開が変わってきます。
*ここから先はあくまで一例ですが、参考にしていただければと思います。
  38 ４四歩(43)        ( 0:00/00:00:00)
*第２章 基本図から△４四歩
*何気ない一手に見えますが、先手はここで仕掛けることができます。
  39 ４五歩(46)        ( 0:00/00:00:00)
*歩がぶつかり、本格的な戦いがスタート！
*この手では▲７九玉でも一局です。
  40 同　歩(44)        ( 0:00/00:00:00)
  41 同　銀(56)        ( 0:00/00:00:00)
*ここは▲４五同桂もあるところ。
*以下、△４四銀とかわす手には▲４六歩と桂を支えておき、次に▲２四歩から飛車先の歩交換を狙います。
  42 ５五銀(54)        ( 0:00/00:00:00)
*この手で△４五同銀と応じるのは、▲同桂△４四銀▲６三銀(△同金は▲７二角)で先手やや良し。
  43 ２四歩(25)        ( 0:00/00:00:00)
  44 同　歩(23)        ( 0:00/00:00:00)
  45 ２五歩打           ( 0:00/00:00:00)
*手筋の継ぎ歩の攻め。
*△２五同歩には▲同桂△２四銀▲３四銀という感じで調子よく攻めが続きます。
  46 ４四歩打           ( 0:00/00:00:00)
  47 ２四歩(25)        ( 0:00/00:00:00)
  48 ２二歩打           ( 0:00/00:00:00)
  49 ５六銀(45)        ( 0:00/00:00:00)
  50 同　銀(55)        ( 0:00/00:00:00)
  51 同　歩(57)        ( 0:00/00:00:00)
  52 ４七銀打           ( 0:00/00:00:00)
*角換わり腰掛銀で頻出の銀捨て。
*△４七同金には▲３八角の飛車金両取りが激痛。
*先後関係なくぜひ覚えていただきたい手です！
  53 ５七玉(68)        ( 0:00/00:00:00)
*ちょっと難しい手ですが４七の銀に暴れられる前に力強く攻めを催促します。
  54 ４八銀成(47)       ( 0:00/00:00:00)
  55 同　玉(57)        ( 0:00/00:00:00)
*(結果図)
*人間的にはまだまだ難しいですが、厳密には先手やや有利。
*後手は歩切れなので細かい攻めができません。
*対して先手は次に▲４七銀と埋めれば玉がかなり安定しますし、▲６三銀や▲７五歩の桂頭攻めなど、攻めには困りません。

変化：38手
  38 ６五歩(64)        ( 0:00/00:00:00)
*第３章 基本図から△６五歩
*基本図から後手から仕掛ける手も考えられます。
*第２章と同じように後手が攻めた場合、どうなるのでしょうか？
  39 同　歩(66)        ( 0:00/00:00:00)
  40 同　銀(54)        ( 0:00/00:00:00)
  41 ５八玉(68)        ( 0:00/00:00:00)
*難しいですが、現代調のバランス重視の一手。
*・玉をどかして▲６九飛(６二の金を狙っています)とする
*・銀交換後の△４七銀を消す
*といった意味があります。
*
*※▲５八玉のほかにも▲５五銀などもあり、いずれも難しい戦い。
  42 ５六銀(65)        ( 0:00/00:00:00)
  43 同　歩(57)        ( 0:00/00:00:00)
  44 ６五桂(73)        ( 0:00/00:00:00)
*後手が調子よさそうですが、やや攻めが軽すぎる印象を受けます。
  45 ６六銀(77)        ( 0:00/00:00:00)
  46 ６四歩打           ( 0:00/00:00:00)
*(結果図)
*陣形がバラバラで不安が残る形ですが、厳密には先手やや有利。
*ここで▲６三歩と反撃に転じる手や▲７七桂と威張っている後手の桂を消しに行く手が有力。
*第２章と違って、今回は何かのときに▲４五桂と攻める手があるのがかなり大きいです。

変化：38手
  38 ５二玉(42)        ( 0:00/00:00:00)
*第４章 基本図から△５二玉
*プロ棋戦でも指されている手。
*先手に仕掛けを与えないように待機し、千日手を狙っています。
  39 ７九玉(68)        ( 0:00/00:00:00)
  40 ４二玉(52)        ( 0:00/00:00:00)
  41 ８八玉(79)        ( 0:00/00:00:00)
  42 ５二玉(42)        ( 0:00/00:00:00)
  43 ４五桂(37)        ( 0:00/00:00:00)
*千日手は先手不満。
*単調な攻めに見えますが、意外にうるさい攻め。
*桂跳ねで銀をどかして飛車先の歩を交換しに行くのが、角換わり腰掛銀の基本の攻め筋です。
*この手に対して△４四銀と上にかわすのは、△４四歩と桂を取りに行く手がなくなったので、▲２四歩△同歩▲同飛△２三歩▲２八飛と一歩交換して先手不満なし。
  44 ２二銀(33)        ( 0:00/00:00:00)
*銀を引いて次に△４四歩で桂を取ろうとしています。
  45 ２四歩(25)        ( 0:00/00:00:00)
  46 同　歩(23)        ( 0:00/00:00:00)
  47 同　飛(29)        ( 0:00/00:00:00)
  48 ２三歩打           ( 0:00/00:00:00)

変化：48手
  48 ４四歩(43)        ( 0:00/00:00:00)

変化：47手
  47 ７五歩(76)        ( 0:00/00:00:00)
*角換わり腰掛銀で必須の桂頭攻め。
*△７五同歩と取らせることによって、歩を手にした後の▲７四歩を狙っています。
  48 同　歩(74)        ( 0:00/00:00:00)
  49 ２四飛(29)        ( 0:00/00:00:00)
*ここで▲７四歩と打つための一歩を補充。
  50 ６三銀(54)        ( 0:00/00:00:00)
*▲７四歩を受けますが…
  51 ７四歩打           ( 0:00/00:00:00)
*それでも▲７四歩。ここから先手の猛攻が始まります。
  52 同　銀(63)        ( 0:00/00:00:00)
  53 ３四飛(24)        ( 0:00/00:00:00)
  54 ２三銀(22)        ( 0:00/00:00:00)
  55 ６四飛(34)        ( 0:00/00:00:00)
  56 ６三銀(74)        ( 0:00/00:00:00)
  57 同　飛成(64)       ( 0:00/00:00:00)
  58 同　玉(52)        ( 0:00/00:00:00)
  59 ５五銀(56)        ( 0:00/00:00:00)
  60 ６四歩打           ( 0:00/00:00:00)
  61 ７四歩打           ( 0:00/00:00:00)
  62 同　玉(63)        ( 0:00/00:00:00)
  63 ５三桂成(45)       ( 0:00/00:00:00)
  64 同　金(62)        ( 0:00/00:00:00)
  65 ７二銀打           ( 0:00/00:00:00)
*△８二飛には▲７一角が飛車金両取り。
  66 ３一飛(81)        ( 0:00/00:00:00)
  67 ５四銀(55)        ( 0:00/00:00:00)
  68 同　金(53)        ( 0:00/00:00:00)
  69 ６三角打           ( 0:00/00:00:00)
  70 ８四玉(74)        ( 0:00/00:00:00)
  71 ５四角成(63)       ( 0:00/00:00:00)
*(結果図)
*一気に進めてしまいましたが、ここまで進めば先手勝勢。
*
*角換わり腰掛銀の解説は以上となります。
*この戦型は難しい手・手順が多く、やや上級者向けの指し方と言えるかもしれません。
*
*今回ご紹介した手順はあくまで一例です。
*ご自身で研究をして自分に合った指し方を模索するとこの角換わり腰掛銀の魅力にはまっていくかもしれませんね！

"></shogi-board>

<script src="assets/js/test.js"></script>
</body></html>